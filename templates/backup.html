{% extends "base.html" %}
{% block title %}Backup e Restauração{% endblock %}
{% block content %}
<div class="content-header"><h1>Backup e Restauração de Dados</h1></div>
<div class="row">
<div class="col-md-6"><div class="card"><div class="card-header"><h2><i class="fas fa-download"></i> Fazer Backup</h2></div>
<div class="card-body"><p>Clique no botão abaixo para fazer o download de um arquivo <code>.zip</code> contendo todos os dados da sua oficina.</p><p>Guarde este arquivo em um local seguro.</p>
<a href="{{ url_for('download_backup') }}" class="btn btn-primary"><i class="fas fa-download"></i> Baixar Backup</a>
</div></div></div>
<div class="col-md-6"><div class="card"><div class="card-header"><h2><i class="fas fa-upload"></i> Restaurar Backup</h2></div>
<div class="card-body"><div class="alert alert-warning"><strong>Atenção:</strong> A restauração irá <strong>substituir TODOS os dados atuais</strong>. Esta ação não pode ser desfeita.</div>
<form action="{{ url_for('backup') }}" method="post" enctype="multipart/form-data">
<div class="form-group"><label for="backup_file" class="form-label">Selecione o arquivo <code>.zip</code>:</label><input type="file" name="backup_file" id="backup_file" class="form-control" accept=".zip" required></div>
<button type="submit" class="btn btn-danger mt-2" onclick="return confirm('Tem certeza que deseja restaurar os dados? Todos os dados atuais serão perdidos.')"><i class="fas fa-upload"></i> Restaurar Dados</button>
</form></div></div></div>
</div>
{% endblock %}